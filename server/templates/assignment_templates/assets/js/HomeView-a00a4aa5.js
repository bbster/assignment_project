import{t as ae,r as Z,c as ie,a as H,u as ee,g as se,o as ue,w as W,i as te,b as ne,s as V,d as le,e as ce,f as fe,h as he}from"./index-09370201.js";function oe(e){return se()?(ue(e),!0):!1}function J(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const r=()=>t(i);return oe(r),{off:r}},off:t,trigger:i=>Promise.all(Array.from(e).map(r=>r(i)))}}function b(e){return typeof e=="function"?e():ee(e)}const re=typeof window<"u"&&typeof document<"u",de=()=>{};function Y(e,t=!1,o="Timeout"){return new Promise((s,i)=>{setTimeout(t?()=>i(o):s,e)})}function pe(e,...t){return t.some(o=>o in e)}function R(...e){if(e.length!==1)return ae(...e);const t=e[0];return typeof t=="function"?Z(ie(()=>({get:t,set:de}))):H(t)}function q(e,t=!1){function o(a,{flush:u="sync",deep:p=!1,timeout:h,throwOnTimeout:O}={}){let m=null;const D=[new Promise(E=>{m=W(e,P=>{a(P)!==t&&(m==null||m(),E(P))},{flush:u,deep:p,immediate:!0})})];return h!=null&&D.push(Y(h,O).then(()=>b(e)).finally(()=>m==null?void 0:m())),Promise.race(D)}function s(a,u){if(!te(a))return o(P=>P===a,u);const{flush:p="sync",deep:h=!1,timeout:O,throwOnTimeout:m}=u??{};let F=null;const E=[new Promise(P=>{F=W([e,a],([_,g])=>{t!==(_===g)&&(F==null||F(),P(_))},{flush:p,deep:h,immediate:!0})})];return O!=null&&E.push(Y(O,m).then(()=>b(e)).finally(()=>(F==null||F(),b(e)))),Promise.race(E)}function i(a){return o(u=>!!u,a)}function r(a){return s(null,a)}function n(a){return s(void 0,a)}function w(a){return o(Number.isNaN,a)}function f(a,u){return o(p=>{const h=Array.from(p);return h.includes(a)||h.includes(b(a))},u)}function d(a){return T(1,a)}function T(a=1,u){let p=-1;return o(()=>(p+=1,p>=a),u)}return Array.isArray(b(e))?{toMatch:o,toContains:f,changed:d,changedTimes:T,get not(){return q(e,!t)}}:{toMatch:o,toBe:s,toBeTruthy:i,toBeNull:r,toBeNaN:w,toBeUndefined:n,changed:d,changedTimes:T,get not(){return q(e,!t)}}}function me(e){return q(e)}function ye(e,t,o={}){const{immediate:s=!0}=o,i=H(!1);let r=null;function n(){r&&(clearTimeout(r),r=null)}function w(){i.value=!1,n()}function f(...d){n(),i.value=!0,r=setTimeout(()=>{i.value=!1,r=null,e(...d)},b(t))}return s&&(i.value=!0,re&&f()),oe(w),{isPending:Z(i),start:f,stop:w}}const Fe=re?window:void 0,ve={json:"application/json",text:"text/plain"};function z(e){return e&&pe(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function be(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function x(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function S(e,...t){return e==="overwrite"?async o=>{const s=t[t.length-1];return s?{...o,...await s(o)}:o}:async o=>{for(const s of t)s&&(o={...o,...await s(o)});return o}}function we(e={}){const t=e.combination||"chain",o=e.options||{},s=e.fetchOptions||{};function i(r,...n){const w=ne(()=>{const T=b(e.baseUrl),a=b(r);return T&&!be(a)?Ee(T,a):a});let f=o,d=s;return n.length>0&&(z(n[0])?f={...f,...n[0],beforeFetch:S(t,o.beforeFetch,n[0].beforeFetch),afterFetch:S(t,o.afterFetch,n[0].afterFetch),onFetchError:S(t,o.onFetchError,n[0].onFetchError)}:d={...d,...n[0],headers:{...x(d.headers)||{},...x(n[0].headers)||{}}}),n.length>1&&z(n[1])&&(f={...f,...n[1],beforeFetch:S(t,o.beforeFetch,n[1].beforeFetch),afterFetch:S(t,o.afterFetch,n[1].afterFetch),onFetchError:S(t,o.onFetchError,n[1].onFetchError)}),Te(w,d,f)}return i}function Te(e,...t){var o;const s=typeof AbortController=="function";let i={},r={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const n={method:"GET",type:"text",payload:void 0};t.length>0&&(z(t[0])?r={...r,...t[0]}:i=t[0]),t.length>1&&z(t[1])&&(r={...r,...t[1]});const{fetch:w=(o=Fe)==null?void 0:o.fetch,initialData:f,timeout:d}=r,T=J(),a=J(),u=J(),p=H(!1),h=H(!1),O=H(!1),m=H(null),F=V(null),D=V(null),E=V(f||null),P=ne(()=>s&&h.value);let _,g;const G=()=>{s&&(_==null||_.abort(),_=new AbortController,_.signal.onabort=()=>O.value=!0,i={...i,signal:_.signal})},I=l=>{h.value=l,p.value=!l};d&&(g=ye(G,d,{immediate:!1}));const N=async(l=!1)=>{var v;G(),I(!0),D.value=null,m.value=null,O.value=!1;const y={method:n.method,headers:{}};if(n.payload){const M=x(y.headers),j=b(n.payload);!n.payloadType&&j&&Object.getPrototypeOf(j)===Object.prototype&&!(j instanceof FormData)&&(n.payloadType="json"),n.payloadType&&(M["Content-Type"]=(v=ve[n.payloadType])!=null?v:n.payloadType),y.body=n.payloadType==="json"?JSON.stringify(j):j}let U=!1;const B={url:b(e),options:{...y,...i},cancel:()=>{U=!0}};if(r.beforeFetch&&Object.assign(B,await r.beforeFetch(B)),U||!w)return I(!1),Promise.resolve(null);let C=null;return g&&g.start(),new Promise((M,j)=>{var Q;w(B.url,{...y,...B.options,headers:{...x(y.headers),...x((Q=B.options)==null?void 0:Q.headers)}}).then(async c=>{if(F.value=c,m.value=c.status,C=await c[n.type](),!c.ok)throw E.value=f||null,new Error(c.statusText);return r.afterFetch&&({data:C}=await r.afterFetch({data:C,response:c})),E.value=C,T.trigger(c),M(c)}).catch(async c=>{let X=c.message||c.name;return r.onFetchError&&({error:X,data:C}=await r.onFetchError({data:C,error:c,response:F.value})),D.value=X,r.updateDataOnError&&(E.value=C),a.trigger(c),l?j(c):M(null)}).finally(()=>{I(!1),g&&g.stop(),u.trigger(null)})})},K=R(r.refetch);W([K,R(e)],([l])=>l&&N(),{deep:!0});const $={isFinished:p,statusCode:m,response:F,error:D,data:E,isFetching:h,canAbort:P,aborted:O,abort:G,execute:N,onFetchResponse:T.on,onFetchError:a.on,onFetchFinally:u.on,get:A("GET"),put:A("PUT"),post:A("POST"),delete:A("DELETE"),patch:A("PATCH"),head:A("HEAD"),options:A("OPTIONS"),json:k("json"),text:k("text"),blob:k("blob"),arrayBuffer:k("arrayBuffer"),formData:k("formData")};function A(l){return(v,y)=>{if(!h.value)return n.method=l,n.payload=v,n.payloadType=y,te(n.payload)&&W([K,R(n.payload)],([U])=>U&&N(),{deep:!0}),{...$,then(U,B){return L().then(U,B)}}}}function L(){return new Promise((l,v)=>{me(p).toBe(!0).then(()=>l($)).catch(y=>v(y))})}function k(l){return()=>{if(!h.value)return n.type=l,{...$,then(v,y){return L().then(v,y)}}}}return r.immediate&&Promise.resolve().then(()=>N()),{...$,then(l,v){return L().then(l,v)}}}function Ee(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}const Oe="http://49.1.213.232:8000/api/v1",Pe=()=>({response:we({baseUrl:Oe,fetchOptions:{}})("/companies",{})}),De=le({__name:"HomeView",setup(e){const{response:t}=Pe();return(o,s)=>(ce(),fe("main",null,he(ee(t).data.value)+" ",1))}});export{De as default};
