import{d as ee,c as te,o as S,a as M,b as x,t as Y,u as W,_ as se,F as pe,r as de,e as ie,f as he,g as ce,h as me,i as k,j as _e,k as ye,w as z,l as ue,s as K,m as Fe}from"./index-de331972.js";const ve={class:"company-card"},be={class:"company-card__title"},we={class:"company-card__addr"},Te=ee({__name:"CompanyCard",props:{company:{}},setup(e){const t=e,n=te(()=>`${t.company.country} . ${t.company.city}`);return(i,r)=>(S(),M("article",ve,[x("h2",be,Y(i.company.company_name),1),x("div",null,[x("p",we,Y(W(n)),1)])]))}});const ge=se(Te,[["__scopeId","data-v-c4245d01"]]),Ee={class:"companies-board"},Ce={class:"companies-board__title"},Oe=ee({__name:"CompaniesBoard",props:{heading:{},companies:{}},setup(e){return(t,n)=>{const i=ge;return S(),M("section",Ee,[x("h2",Ce,Y(t.heading),1),x("ul",null,[x("li",null,[(S(!0),M(pe,null,de(t.companies,r=>(S(),ie(i,{company:r,key:r.id},null,8,["company"]))),128))])])])}}});const Pe=se(Oe,[["__scopeId","data-v-b51d9352"]]);function le(e){return _e()?(ye(e),!0):!1}function Q(){const e=new Set,t=r=>{e.delete(r)};return{on:r=>{e.add(r);const a=()=>t(r);return le(a),{off:a}},off:t,trigger:r=>Promise.all(Array.from(e).map(a=>a(r)))}}function v(e){return typeof e=="function"?e():W(e)}const fe=typeof window<"u"&&typeof document<"u",Be=()=>{};function ae(e,t=!1,n="Timeout"){return new Promise((i,r)=>{setTimeout(t?()=>r(n):i,e)})}function De(e,...t){return t.some(n=>n in e)}function X(...e){if(e.length!==1)return he(...e);const t=e[0];return typeof t=="function"?ce(me(()=>({get:t,set:Be}))):k(t)}function Z(e,t=!1){function n(s,{flush:c="sync",deep:h=!1,timeout:p,throwOnTimeout:g}={}){let m=null;const O=[new Promise(T=>{m=z(e,E=>{s(E)!==t&&(m==null||m(),T(E))},{flush:c,deep:h,immediate:!0})})];return p!=null&&O.push(ae(p,g).then(()=>v(e)).finally(()=>m==null?void 0:m())),Promise.race(O)}function i(s,c){if(!ue(s))return n(E=>E===s,c);const{flush:h="sync",deep:p=!1,timeout:g,throwOnTimeout:m}=c??{};let y=null;const T=[new Promise(E=>{y=z([e,s],([C,P])=>{t!==(C===P)&&(y==null||y(),E(C))},{flush:h,deep:p,immediate:!0})})];return g!=null&&T.push(ae(g,m).then(()=>v(e)).finally(()=>(y==null||y(),v(e)))),Promise.race(T)}function r(s){return n(c=>!!c,s)}function a(s){return i(null,s)}function o(s){return i(void 0,s)}function b(s){return n(Number.isNaN,s)}function f(s,c){return n(h=>{const p=Array.from(h);return p.includes(s)||p.includes(v(s))},c)}function d(s){return w(1,s)}function w(s=1,c){let h=-1;return n(()=>(h+=1,h>=s),c)}return Array.isArray(v(e))?{toMatch:n,toContains:f,changed:d,changedTimes:w,get not(){return Z(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:r,toBeNull:a,toBeNaN:b,toBeUndefined:o,changed:d,changedTimes:w,get not(){return Z(e,!t)}}}function je(e){return Z(e)}function Ae(e,t,n={}){const{immediate:i=!0}=n,r=k(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function b(){r.value=!1,o()}function f(...d){o(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,e(...d)},v(t))}return i&&(r.value=!0,fe&&f()),le(b),{isPending:ce(r),start:f,stop:b}}const $e=fe?window:void 0,Ue={json:"application/json",text:"text/plain"};function G(e){return e&&De(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function ke(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function H(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function U(e,...t){return e==="overwrite"?async n=>{const i=t[t.length-1];return i?{...n,...await i(n)}:n}:async n=>{for(const i of t)i&&(n={...n,...await i(n)});return n}}function Se(e={}){const t=e.combination||"chain",n=e.options||{},i=e.fetchOptions||{};function r(a,...o){const b=te(()=>{const w=v(e.baseUrl),s=v(a);return w&&!ke(s)?Ne(w,s):s});let f=n,d=i;return o.length>0&&(G(o[0])?f={...f,...o[0],beforeFetch:U(t,n.beforeFetch,o[0].beforeFetch),afterFetch:U(t,n.afterFetch,o[0].afterFetch),onFetchError:U(t,n.onFetchError,o[0].onFetchError)}:d={...d,...o[0],headers:{...H(d.headers)||{},...H(o[0].headers)||{}}}),o.length>1&&G(o[1])&&(f={...f,...o[1],beforeFetch:U(t,n.beforeFetch,o[1].beforeFetch),afterFetch:U(t,n.afterFetch,o[1].afterFetch),onFetchError:U(t,n.onFetchError,o[1].onFetchError)}),xe(b,d,f)}return r}function xe(e,...t){var n;const i=typeof AbortController=="function";let r={},a={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const o={method:"GET",type:"text",payload:void 0};t.length>0&&(G(t[0])?a={...a,...t[0]}:r=t[0]),t.length>1&&G(t[1])&&(a={...a,...t[1]});const{fetch:b=(n=$e)==null?void 0:n.fetch,initialData:f,timeout:d}=a,w=Q(),s=Q(),c=Q(),h=k(!1),p=k(!1),g=k(!1),m=k(null),y=K(null),O=K(null),T=K(f||null),E=te(()=>i&&p.value);let C,P;const J=()=>{i&&(C==null||C.abort(),C=new AbortController,C.signal.onabort=()=>g.value=!0,r={...r,signal:C.signal})},R=u=>{p.value=u,h.value=!u};d&&(P=Ae(J,d,{immediate:!1}));const I=async(u=!1)=>{var F;J(),R(!0),O.value=null,m.value=null,g.value=!1;const _={method:o.method,headers:{}};if(o.payload){const L=H(_.headers),A=v(o.payload);!o.payloadType&&A&&Object.getPrototypeOf(A)===Object.prototype&&!(A instanceof FormData)&&(o.payloadType="json"),o.payloadType&&(L["Content-Type"]=(F=Ue[o.payloadType])!=null?F:o.payloadType),_.body=o.payloadType==="json"?JSON.stringify(A):A}let $=!1;const D={url:v(e),options:{..._,...r},cancel:()=>{$=!0}};if(a.beforeFetch&&Object.assign(D,await a.beforeFetch(D)),$||!b)return R(!1),Promise.resolve(null);let j=null;return P&&P.start(),new Promise((L,A)=>{var oe;b(D.url,{..._,...D.options,headers:{...H(_.headers),...H((oe=D.options)==null?void 0:oe.headers)}}).then(async l=>{if(y.value=l,m.value=l.status,j=await l[o.type](),!l.ok)throw T.value=f||null,new Error(l.statusText);return a.afterFetch&&({data:j}=await a.afterFetch({data:j,response:l})),T.value=j,w.trigger(l),L(l)}).catch(async l=>{let re=l.message||l.name;return a.onFetchError&&({error:re,data:j}=await a.onFetchError({data:j,error:l,response:y.value})),O.value=re,a.updateDataOnError&&(T.value=j),s.trigger(l),u?A(l):L(null)}).finally(()=>{R(!1),P&&P.stop(),c.trigger(null)})})},ne=X(a.refetch);z([ne,X(e)],([u])=>u&&I(),{deep:!0});const V={isFinished:h,statusCode:m,response:y,error:O,data:T,isFetching:p,canAbort:E,aborted:g,abort:J,execute:I,onFetchResponse:w.on,onFetchError:s.on,onFetchFinally:c.on,get:B("GET"),put:B("PUT"),post:B("POST"),delete:B("DELETE"),patch:B("PATCH"),head:B("HEAD"),options:B("OPTIONS"),json:N("json"),text:N("text"),blob:N("blob"),arrayBuffer:N("arrayBuffer"),formData:N("formData")};function B(u){return(F,_)=>{if(!p.value)return o.method=u,o.payload=F,o.payloadType=_,ue(o.payload)&&z([ne,X(o.payload)],([$])=>$&&I(),{deep:!0}),{...V,then($,D){return q().then($,D)}}}}function q(){return new Promise((u,F)=>{je(h).toBe(!0).then(()=>u(V)).catch(_=>F(_))})}function N(u){return()=>{if(!p.value)return o.type=u,{...V,then(F,_){return q().then(F,_)}}}}return a.immediate&&Promise.resolve().then(()=>I()),{...V,then(u,F){return q().then(u,F)}}}function Ne(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}const He="http://49.1.213.232:8000/api/v1",Ie=()=>Se({baseUrl:He,fetchOptions:{},options:{fetch}})("/companies",{}).get().json(),Le=ee({__name:"HomeView",setup(e){const{data:t}=Ie();return(n,i)=>{const r=Pe;return S(),M("main",null,[W(t)?(S(),ie(r,{key:0,heading:"자 이직할 시간이다 둘러봐라",companies:W(t)},null,8,["companies"])):Fe("",!0)])}}});export{Le as default};
